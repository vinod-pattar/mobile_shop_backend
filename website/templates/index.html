{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Mobile Shop</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <nav class="navbar bg-primary navbar-expand-lg" data-bs-theme="dark">
      <div class="container-fluid">
        <a class="navbar-brand" href="/">Mobiles Shop</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="/">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#about-us">About us</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/contact-us.html">Contact us</a>
            </li>
          </ul>
          <form class="d-flex" role="search">
            <input
              class="form-control me-2"
              type="search"
              placeholder="Search"
              aria-label="Search"
            />
            <button class="btn btn-light btn-outline-dark" type="submit">
              Search
            </button>
          </form>
        </div>
      </div>
    </nav>

    <div id="carouselExampleIndicators" class="carousel slide">
      <div class="carousel-indicators">
        <button
          type="button"
          data-bs-target="#carouselExampleIndicators"
          data-bs-slide-to="0"
          class="active"
          aria-current="true"
          aria-label="Slide 1"
        ></button>
        <button
          type="button"
          data-bs-target="#carouselExampleIndicators"
          data-bs-slide-to="1"
          aria-label="Slide 2"
        ></button>
        <button
          type="button"
          data-bs-target="#carouselExampleIndicators"
          data-bs-slide-to="2"
          aria-label="Slide 3"
        ></button>
      </div>
      <div class="carousel-inner">
        <div class="carousel-item active">
          <img
            src="./assets/images/mobile-1.jpg"
            class="d-block w-100"
            alt="..."
          />
        </div>
        <div class="carousel-item">
          <img
            src="./assets/images/mobile-1.jpg"
            class="d-block w-100"
            alt="..."
          />
        </div>
        <div class="carousel-item">
          <img
            src="./assets/images/mobile-1.jpg"
            class="d-block w-100"
            alt="..."
          />
        </div>
      </div>
      <button
        class="carousel-control-prev"
        type="button"
        data-bs-target="#carouselExampleIndicators"
        data-bs-slide="prev"
      >
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button
        class="carousel-control-next"
        type="button"
        data-bs-target="#carouselExampleIndicators"
        data-bs-slide="next"
      >
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>

    <div class="container my-5 text-center">
      <h2>Our mobiles</h2>
      <div id="products">

      </div>
    </div>

    <div id="contact-us" class="container-fluid py-5 bg-primary-subtle">
      <div class="row">
        <div class="col-3"></div>
        <div class="col-6">
          <h2>Product Enquiry</h2>

          <form id="enquiry">
            <div class="row">
              <div class="col mb-3">
                <label for="first_name" class="form-label text-dark">First Name</label>
                <input
                  type="text"
                  class="form-control"
                  id="first_name"
                  placeholder="Enter your first name"
                />
              </div>
              <div class="col mb-3">
                <label for="last_name" class="form-label text-dark">Last Name</label>
                <input
                  type="text"
                  class="form-control"
                  id="last_name"
                  placeholder="Enter your last name"
                />
                
              </div>
            </div>

            <div class="row">
                <div class="col mb-3">
                    <label for="email_address" class="form-label text-dark"
                      >Email address</label
                    >
                    <input
                      type="email"
                      class="form-control"
                      id="email_address"
                      placeholder="We'll never share your email with anyone else."
                    />
                   
                  </div>
                  <div class="col mb-3">
                    <label for="mobile" class="form-label text-dark">Mobile</label>
                    <input
                      type="number"
                      class="form-control"
                      id="mobile"
                     placeholder="We'll never share your mobile number with anyone else."
                    />
               
                  </div>
            </div>

            

            <select id="product" class="form-select mb-3" aria-label="Default select mobile">
              <option selected>Select Mobile</option>
              <option value="Mobile 1">Mobile 1</option>
              <option value="Mobile 2">Mobile 2</option>
              <option value="Mobile 3">Mobile 3</option>
            </select>

            <div class="mb-3">
              <label for="enquiry_message" class="form-label text-dark"
                >Enquiry Message</label
              >
              <textarea
                class="form-control"
                id="enquiry_message"
                rows="3"
              ></textarea>
            </div>

            <button type="submit" class="btn btn-primary">Submit</button>
          </form>
        </div>
        <div class="col-3"></div>
      </div>
    </div>
    <div id="about-us" class="container-fluid my-5 bg-primary">
      <h2>About Us</h2>
      <p>Welcome to Mobile Shop, your number one source for all things mobile. We're dedicated to providing you the best of mobiles, with a focus on dependability, customer service, and uniqueness.</p>
      <p>Founded in 2023, Mobile Shop has come a long way from its beginnings. When we first started out, our passion for "best mobiles" drove us to start our own business.</p>
      <p>We hope you enjoy our products as much as we enjoy offering them to you. If you have any questions or comments, please don't hesitate to contact us.</p>
      <p>Sincerely,<br />Mobile Shop Team</p>
    </div>

    <div class="container">
        <footer class="d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top">
          <div class="col-md-4 d-flex align-items-center">
            <a href="/" class="mb-3 me-2 mb-md-0 text-body text-decoration-none lh-1">
              <svg class="bi" width="30" height="24"><use xlink:href="#bootstrap"></use></svg>
            </a>
            <span class="mb-3 mb-md-0 text-body">Â© 2024 Mobile Shop, Inc</span>
          </div>
      
          <ul class="nav col-md-4 justify-content-end list-unstyled d-flex">
            <li class="ms-3"><a class="text-body" href="#"><svg class="bi" width="24" height="24"><use xlink:href="#twitter"></use></svg></a></li>
            <li class="ms-3"><a class="text-body" href="#"><svg class="bi" width="24" height="24"><use xlink:href="#instagram"></use></svg></a></li>
            <li class="ms-3"><a class="text-body" href="#"><svg class="bi" width="24" height="24"><use xlink:href="#facebook"></use></svg></a></li>
          </ul>
        </footer>
      </div>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>

    <script>
      const form = document.getElementById('enquiry');

      form.addEventListener('submit', function(event) {
        event.preventDefault();
        const firstName = form.elements.first_name.value;
        const lastName = form.elements.last_name.value;
        const email = form.elements.email_address.value;
        const mobile = form.elements.mobile.value;
        const product = form.elements.product.value;
        const enquiryMessage = form.elements.enquiry_message.value;

        if(firstName == "") {
          alert("First name is required")
        }

        if(!(/^[6-9]\d{9}$/.test(mobile))) {
          alert('Please provide valid mobile number')
        }

        const formData = {
          firstName, lastName, email, product, enquiryMessage
        }

        console.log(firstName, lastName, email, product, enquiryMessage)

        fetch('https://connect.pabbly.com/workflow/sendwebhookdata/IjU3NjUwNTY1MDYzNTA0MzQ1MjY4NTUzMDUxM2Ii_pc', {
          method: 'POST',
          body: JSON.stringify(formData)
        }).then(res => res.json()).then(res => {
          alert("We have recieved your enquiry. We will get in touch with you soon. Thank you.")
        }).finally(function(){
          form.reset(); // Clear input
        })
      })
    </script>
    <script src="{% static 'js/products.js' %}">
      
    </script>
  </body>
</html>
